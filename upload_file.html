<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./bootstrap-4.5.3-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./bootstrap-4.5.3-dist/css/bootstrap.min.css.map">
    <link rel="stylesheet" href="./bootstrap-4.5.3-dist/js/bootstrap.bundle.js">
    <link href="https://fonts.googleapis.com/css2?family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <title>Upload File</title>

</head>

<body>
    <section class="back_col_page_colors">
        <section class="nav_bar">
            <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top nav_set_up">
                <a class="navbar-brand logo_img_page" href="#"><img src="./assets/img/logo_img.png" alt=""></a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText"
                    aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarText">
                    <ul class="navbar-nav ml-auto cheque_nav">
                        <li class="nav-item ">
                            <a class="nav-link dash_nav" href="index.html">Dashboard</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link revised_nav" href="resived_cheque.html">Revised Cheques</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link revised_nav" href="file_status.html">File Status</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link revised_nav" href="upload_file.html">Upload File</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link revised_nav" href="register_user.html">Register User</a>
                        </li>
                    </ul>
                    <div class="icons_profile_nav ml-auto">
                        <div class="settings_nav"><a href="#"><i class="fa fa-cog" aria-hidden="true"></i></a></div>
                        <div class="profile_pic_nav">
                            <div class="dropdown show custom_dropdown">
                                <a href="#" class="dropdown-toggle" id="dropdownMenuLink" data-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="false"><img
                                        src="./assets/img/blank-profile-picture.jpg" alt="Profile Image"></a>
                                <div class="dropdown-menu custom_dropdown" aria-labelledby="dropdownMenuLink">
                                    <a class="dropdown-item" href="#" data-toggle="modal"
                                        data-target="#profileModal">Profile</a>
                                    <a class="dropdown-item" href="change_password.html">Change Password</a>
                                    <a class="dropdown-item" href="index.html">Log Out</a>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </nav>
        </section>
        <div class="heading_nav_below pl-10">
            <h3>Upload File</h3>
        </div>
        <form class="resive_cheque_form_upload" id="upload_file_page">
            <div class="row">
                <div class="col-md-2">
                    <div class="upload_file_form">
                        <div class="form-group pay_period">
                            <label for="issued-date">Pay Period</label><br>
                            <input type="date" id="issued-date" name="issued_date" class="pay_period_label"
                                value="2024-05">
                        </div>
                    </div>
                </div>
                <div class="col-md-3 ">
                    <div class="form-group upload_file">
                        <p>Upload File</p>
                        <label for="file-upload" class=" upload_things_in_file"><i class="fa fa-upload"
                                aria-hidden="true"></i>
                            Select file</label> <input type="file" id="file-upload" name="file"
                            onchange="showFileName()">
                        <p id="file-name" class="file-name"></p> <!-- Added to display file name -->
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="form-group comment_file">
                        <label for="comment">Comment</label>
                        <input type="text" id="comment" name="comment">
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="submit_btn">
                        <button type="submit">Submit</button>
                    </div>
                </div>

            </div>
        </form>
        <section>
            <!-- pop code for the profile details -->
            <section class="pop_up_section_profile">
                <div class="modal fade" id="profileModal" tabindex="-1" role="dialog"
                    aria-labelledby="profileModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="profileModalLabel">User Profile</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body employe_details">
                                <div class="profile-card">
                                    <div class="image_upload_pop">
                                        <img src="./assets/img/blank-profile-picture.jpg" alt="Profile Image"
                                            class="profile-img" id="profile-img-preview">
                                        <div class="cam_trash">
                                            <label for="upload-input" class="upload-label"><i class="fa fa-camera"
                                                    aria-hidden="true"></i></label>
                                            <input type="file" id="upload-input" accept="image/*">
                                            <span class="delete"><i class="fa fa-trash" aria-hidden="true"></i></span>
                                        </div>
                                    </div>
                                    <h2>Goutham Reddy Parnapalli</h2>
                                    <p>Junior Web Designer</p>
                                    <p>Probationary</p>
                                    <p>Information Technology</p>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <!-- Add additional buttons if needed -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </section>


        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="./assets/js/jquery.style.js"></script>
        <script src="./assets/js/jquery.validate.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha384-KyZXEAg3QhqLMpG8r+Knujsl5+5hb7O4IeR+pi5laBQz/q7UuPb4B84XwFqDXY93" crossorigin="anonymous">
        </script>
        <!-- pop up link -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


        <script>
            // Add a custom method to check file extension
            $.validator.addMethod("extension", function (value, element, param) {
                param = typeof param === "string" ? param.replace(/,/g, "|") : "pdf";
                return this.optional(element) || value.match(new RegExp(".(" + param + ")$", "i"));
            }, "Please enter a value with a valid extension.");

            // Add a click event to the file input to restrict file types
            $("#resume").on("change", function () {
                var allowedExtensions = ["pdf"];
                var fileName = $(this).val();
                var fileExtension = fileName.split(".").pop().toLowerCase();

                if ($.inArray(fileExtension, allowedExtensions) === -1) {
                    alert("Please select a valid PDF file.");
                    $(this).val(""); // Clear the file input
                }
            });
        </script>

        <script>
            $(window).scroll(function () {
                if ($(this).scrollTop() > 200) {
                    $(".fixed-top").addClass("mve_top");
                } else {
                    $(".fixed-top").removeClass("mve_top");
                }
            });
        </script>

        <script>
            function showFileName() {
                var input = document.getElementById('file-upload');
                var fileName = input.files[0].name;
                document.getElementById('file-name').innerText = fileName;
            }
        </script>

        <!-- pop up for profile details -->
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const uploadInput = document.getElementById('upload-input');
                const profileImgPreview = document.getElementById('profile-img-preview');
                const deleteBtn = document.querySelector(
                    '.delete'); // Update selector to match the class name in HTML

                // Handle image upload
                uploadInput.addEventListener('change', function (event) {
                    const file = event.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function (e) {
                            profileImgPreview.src = e.target.result;
                        }
                        reader.readAsDataURL(file);
                    }
                });

                // Handle image delete
                deleteBtn.addEventListener('click', function () {
                    profileImgPreview.src = './assets/img/blank-profile-picture.jpg'; // Default image
                    uploadInput.value = ''; // Clear the file input
                });
            });
        </script>

</body>

</html>